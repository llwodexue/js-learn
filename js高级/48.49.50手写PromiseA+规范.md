基于原生 JS 实现 Promise（遵循的是 Promise A Plus 规范）
[https://promisesaplus.com/](https://promisesaplus.com/)

需要注意的点：

```js
;(function () {
  function Promise(executor) {
    var self = this
    // 必须new执行
    if (self instanceof Promise) throw new TypeError('undefined is not a promise')
    // executor必须是一个函数
    if (typeof executor !== 'function') throw new TypeError('Promise resolver ' + executor + ' is not a function')

    // new Promise的时候会立即执行executor函数
    executor(
      function resolve() {},
      function reject() {}
    )
  }

  /* 暴露API */
  /* if (typeof window !== 'undefined') window.Promise = Promise
  if (typeof module === 'object' && typeof module.exports === 'object') module.exports = Promise */
})

let p1 = new Promise(function (resolve, reject) {
  resolve()
  reject()
})

```

