## 面向对象

HTML、CSS 是标记语言，不属于编程语言：CSS 预处理器 less、sass、stylus 算是编程语言

POP：面向过程

- C 编程语言之母

OOP：面向对象

- Java 编程语言之父
- Php
- C#(ASP .NET)
- C++
- ASP
- Ruby
- Go
- Python
- JavaScript

**什么是面向对象？**

```js
;(function () {
  let n = 0
  function fn() {
    n++
    console.log(n)
  }
  window.fn = fn
})

// 第一个程序：需要实现执行一次方法，计数器累加[从零开始]
fn()
fn()
// 第二个程序：需要实现执行一次方法，计数器累加[从零开始]
// 如果把上面代码复制一份，会显得有些冗余
fn()
fn()
```

同一个程序代码

- 私有的方法
- 公有的方法

这套代码可以供多个程序使用，而每个程序之间既能使用同一个方法，而且还能保证一些值的私有化

可以用面向对象的思想，构建这样的概念和场景

```js
// 需求：私有化+公有化的合理管控
function Func() {
  this.n = 0
}
Func.prototype.sum = function sum() {
  this.n++
  console.log(this.n)
}

let f1 = new Func()
f1.sum()
f1.sum()

let f2 = new Func()
f2.sum()
f2.sum()
```

JS 本身就是面向对象的编程语言，而他本身也是基于面向对象的思想构建出来的语言

面向对象思想

- 对象：万物皆对象
- 类：对"对象"的归类和细分
- 实例：类的具体成员

> 大自然中，所有我们需要面对、学习的东西，都被称呼为"研究对象"（对象）
>
> 我们为了更全面的研究，我们需要把"万物对象"按照功能特点，划分为不同的类别：大类、小类
>
> 面向对象：是一种思想，就像我们人类（类）长大后都知道要孝顺父母、尊重长辈等等
>
> - 每个人（实例、对象）具体去孝敬父母的方法（函数）都不一样
> - 每个人（实例、对象）都有属于自己的名字、性别、身高、体重、身份证号（私有属性）

JS 中的类：内置类、自定义类

- 内置类

  每一种数据类型都有自己对应的内置类：Number、String、Boolean、Symbol、BigInt、Object（Array、RegExp、Date、Set、Map、ArrayBuffer...）、Function

  我们平常接触的具体值就是对应的类的实例，例如：10 就是 Number 类的一个实例

  每一个 HTML 元素标签（包含 window、document 等）在 JS 中都有自己的内置类，例如：div => HTMLDivElement -> HTMLElement -> Element -> Node -> EventTarget -> Object

## 构造函数 普通函数区别

new：构造函数执行

- Fn 被称为类（构造函数）
- result 被称为当前类的一个实例

`new Fn(10, 20)` 构造函数设计模式（后台语言中很多称之为单例模式）

**执行过程：**

- 初始化作用域链
- 初始 this：**this 指向创建的空对象**
- 初始化 arguments
- 形参赋值
- 变量提升
- 代码执行

**区别：**

1. 默认创建一个空对象 "实例对象"，初始 this 指向创建的实例对象

2. 函数中遇到的 `this.xxx=xxx` ，都是给实例对象设置私有的属性和方法（上下文中的私有变量和实例对象没有直接关系）

3. 如果函数不设置返回值或者返回的是原始值类型。则默认返回的结果是创建的实例对象

   只有手动返回对象类型值，才以用户自己返回的为主

![](https://gitee.com/lilyn/pic/raw/master/js-img/new%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E5%92%8C%E6%99%AE%E9%80%9A%E5%87%BD%E6%95%B0.jpg)

